# サービス運用基盤の想定

## はじめに

- ITIL4プラクティスカテゴリごとに利用ツールを明確に分離し、責務の重複を避ける  
  - 一般管理プラクティス：**Odoo, GROWI, OrangeHRM**  
  - サービス管理プラクティクス：**n8n, Zulip, CMDBuild Ready2Use**  
  - 技術管理プラクティクス：**GitLab, Exastro ITA Web, Exastro ITA API, Keycloak, pgAdmin, phpMyAdmin**
- 監視・オブザーバビリティはクラウドネイティブ監視基盤（例：CloudWatch）を前提とし、下記ツールは連携のみを担当
- テスト自動化・実行基盤は各プロジェクトが自由に選択（例：GitLab CI）。ITIL側では特定ツールを規定しない
- 似た機能を持つツールは採用・非採用の根拠を明示し、利用しない機能を明確化する
- プロジェクト関連の方針：プロジェクト検証を含むナレッジはGROWIに集約し、プロジェクト/タスク/スケジュール管理はOdooで一元管理する
- カレンダー機能の使い分け：仕事の予定はOdoo（唯一の案件・タスクカレンダー）、休暇・勤怠はOrangeHRM、サービス変更・リリース・アウトージ予定はCMDBuild Ready2Useに登録し、重複登録はせず必要に応じて外部カレンダーに同期する


## 一般管理プラクティクス（Strategy〜Supplier）

### 使用ツール：Odoo / GROWI / OrangeHRM

| ITIL4プラクティスカテゴリ | ITIL4プラクティクス | ツール名 | プラクティスのなかでのツールのユースケース | ツールの保持する機能の中で利用する機能 | 重要な判断分岐 |
| --- | --- | --- | --- | --- | --- |
| 一般管理プラクティクス | 戦略管理（Strategy management） | GROWI | サービス戦略・IT戦略・ADR・経営層向け資料の単一リポジトリ | Wikiページ作成、階層構造、Markdown編集、全文検索、アクセス制御、テンプレート | - |
| 一般管理プラクティクス | 戦略管理 | Odoo | 中長期ロードマップ・戦略テーマをポートフォリオ/プロジェクトとして管理し、進捗とKPIを可視化 | プロジェクト管理、カンバン/ガントビュー、ダッシュボード、レポート | - |
| 一般管理プラクティクス | ポートフォリオ管理（Portfolio management） | Odoo | suluを含むサービス/プロジェクトのポートフォリオ管理（優先度・投資額・ステータスの集約） | ポートフォリオビュー、ボードビュー、フィルタ/グルーピング、レポート | - |
| 一般管理プラクティクス | アーキテクチャ管理（Architecture management） | GROWI | 全体アーキテクチャ図、サービスマップ、ADR（アーキテクチャ決定記録）の管理 | 図・スクリーンショット添付、ADRテンプレート、ページ間リンク、タグ | - |
| 一般管理プラクティクス | アーキテクチャ管理 | Odoo | アーキテクチャロードマップをプロジェクトとして管理し、マイルストンと依存関係を追跡 | プロジェクト/タスク、マイルストン、ガントチャート | - |
| 一般管理プラクティクス | サービス財務管理（Service financial management） | Odoo | sulu含むサービス単位のコスト・予算・原価配賦を管理 | 会計/請求、原価センタ、サービス別レポート、予算トラッキング | 課金モデル（ショーバック/チャージバック/配賦）／予算超過時に削減か追加予算か／CapExかOpExか |
| 一般管理プラクティクス | ワークフォース＆タレント管理（Workforce and talent management） | OrangeHRM | IT部門の人事情報・スキル・休暇・評価管理 | 従業員マスタ、部署/役職管理、休暇申請・承認、評価管理 | - |
| 一般管理プラクティクス | 継続的改善（Continual improvement） | GROWI | 改善提案・CSIレジスタ・ふりかえりの記録と共有 | テンプレート（ふりかえり/ポストモーテム）、タグ、全文検索、履歴 | 改善選定（価値/リスク/容易性）／クイックウィンか長期ロードマップか／KPI/OKRで継続か終了か |
| 一般管理プラクティクス | 継続的改善 | Odoo | 承認済み改善案件をタスク/プロジェクトとして管理し完了まで追跡 | タスク管理、ボードビュー、担当者/期限管理、レポート | - |
| 一般管理プラクティクス | 測定および報告（Measurement and reporting） | Odoo | サービスKPIや改善指標をダッシュボード化し定期レポートを生成 | BI/レポート機能、ダッシュボード、スケジュールレポート | - |
| 一般管理プラクティクス | 測定および報告 | GROWI | KPI定義・測定方式・算出ロジックなどメタ情報の管理 | KPI定義テンプレート、リンク、履歴 | - |
| 一般管理プラクティクス | リスク管理（Risk management） | Odoo | リスク登録簿、評価（頻度/影響）、対応計画の管理 | リスクオブジェクト、ワークフロー、レポート | - |
| 一般管理プラクティクス | リスク管理 | GROWI | リスクマネジメント方針・標準・手順・チェックリストの管理 | 文書化、版管理、アクセス制御 | - |
| 一般管理プラクティクス | 情報セキュリティ管理（Information security management） | GROWI | ISMS文書、セキュリティポリシー、標準手順書、教育資料の管理 | ドキュメント管理、アクセス制御、承認フロー（ワークフロープラグイン） | アクセス要求をRBACで処理するか例外付与か／重大度に応じCSIRT召集が要るか／ポリシー例外をどこまで許容し期間をどう限定するか |
| 一般管理プラクティクス | ナレッジ管理（Knowledge management） | GROWI | ITILナレッジ、トラブルシュートガイド、FAQ、HOWTOの一元管理 | ページ階層、全文検索、タグ、添付、リンク | コンテンツを簡易FAQに留めるか詳細手順と原因まで含めるか／内部限定か外部公開か／インシデント・変更後のレビューを必須にするか |
| 一般管理プラクティクス | 組織変更管理（Organizational change management） | Odoo | 組織改編・役割変更・大規模プロセス変更を「チェンジプロジェクト」として計画・進捗管理 | プロジェクト/タスク、ステークホルダ管理、通知 | - |
| 一般管理プラクティクス | 組織変更管理 | GROWI | 変更影響分析、コミュニケーション計画、FAQの文書化 | ドキュメント、リンク、履歴、コメント | - |
| 一般管理プラクティクス | プロジェクト管理（Project management） | Odoo | sulu関連プロジェクト（導入・改善・移行等）のスコープ/スケジュール/コスト管理 | プロジェクト/タスク、マイルストン、ガントチャート、タイムシート | - |
| 一般管理プラクティクス | プロジェクト管理 | GROWI | プロジェクト憲章、WBSドラフト、議事録などの情報共有 | ページ作成、議事録テンプレート、リンク | - |
| 一般管理プラクティクス | リレーションシップ管理（Relationship management） | Odoo | ビジネス部門・ステークホルダの連絡先や会議履歴を管理 | 連絡先管理、会議記録、アクティビティログ、リマインダー | - |
| 一般管理プラクティクス | リレーションシップ管理 | GROWI | 重要ステークホルダとの合意事項・期待値・コミュニケーションルールの文書化 | ドキュメント、リンク、履歴 | - |
| 一般管理プラクティクス | サプライヤ管理（Supplier management） | Odoo | ベンダ契約・SLA・請求・支払の管理 | 購買、サプライヤマスタ、契約/請求管理、レポート | 契約形態（SLA付きかベストエフォートか）／KPI報告頻度（月次/四半期/例外）／罰則・補償を行使するか再交渉か |

---

## サービス管理プラクティクス（Business analysis〜IT asset）

### 使用ツール：n8n / Zulip / CMDBuild Ready2Use

※ 監視・オブザーバビリティはクラウドネイティブ監視基盤で実施し、ここでは連携・記録に限定する。

| ITIL4プラクティスカテゴリ | ITIL4プラクティクス | ツール名 | プラクティスのなかでのツールのユースケース | ツールの保持する機能の中で利用する機能 | 重要な判断分岐 |
| --- | --- | --- | --- | --- | --- |
| サービス管理プラクティクス | ビジネス分析（Business analysis） | CMDBuild Ready2Use | サービス/ビジネスプロセス/ステークホルダをCIとしてモデリングし、as-is/to-be構造を可視化 | サービス/プロセス/組織CI定義、属性管理、関係管理 | - |
| サービス管理プラクティクス | ビジネス分析 | Zulip | ビジネス部門との要件ヒアリング・レビューのコミュニケーションチャネル | ストリーム/トピックのスレッド、メンション、添付、検索 | - |
| サービス管理プラクティクス | サービスカタログ管理（Service catalogue management） | CMDBuild Ready2Use | suluを含む提供サービス一覧・属性・SLAクラスのカタログ管理 | サービスCI、属性（提供時間/SLA等）、ビュー、レポート | - |
| サービス管理プラクティクス | サービス設計（Service design） | CMDBuild Ready2Use | 新サービスのCI構造、依存関係、環境構成の設計モデル管理 | サービス構成図（CIと関係）、バージョン属性、設計資料添付 | - |
| サービス管理プラクティクス | サービス設計 | Zulip | サービス設計レビューや設計変更の議論 | トピック単位スレッド、メンション、ファイル共有 | - |
| サービス管理プラクティクス | サービスレベル管理（Service level management） | CMDBuild Ready2Use | サービスごとのSLA/OLA定義と合意内容を管理 | サービスCI属性にSLA/OLA項目追加、履歴、レポート | SLA/OLAを新規に定義するかテンプレ適用か／メトリクスは結果指標か体験指標か／計画停止やフォースマジュールを算定除外するか |
| サービス管理プラクティクス | サービスレベル管理 | n8n | 監視基盤からのSLA違反イベントを受信し、CMDB/チケット登録とZulip通知を自動化 | Webhookトリガ、REST API、条件分岐、スケジュール実行 | - |
| サービス管理プラクティクス | 可用性管理（Availability management） | CMDBuild Ready2Use | 可用性設計（冗長構成/SPOF）とサービス影響範囲を構成情報として管理 | CI依存関係、タグ（冗長/単一）、レポート | 冗長化/フェイルオーバ/リージョン分散が必要か／RTO/RPO目標に現行設計が足りるか／可用性向上コストを許容するか |
| サービス管理プラクティクス | 可用性管理 | n8n | 監視アラートを受信し、インシデント登録と担当チーム通知を自動化 | Webhook、条件分岐、Zulip/CMDBuild API連携 | - |
| サービス管理プラクティクス | キャパシティ＆パフォーマンス管理（Capacity and performance management） | n8n | クラウドメトリクスAPIから容量・性能指標を取得し、集計結果をCMDBまたはOdooへ連携 | スケジュールジョブ、API呼び出し、データ変換 | - |
| サービス管理プラクティクス | キャパシティ＆パフォーマンス管理 | CMDBuild Ready2Use | サービスごとの容量計画（閾値、増設計画）の記録 | CI属性（想定負荷/上限値/増設計画）、レポート | 需要予測による先行増強かオートスケール追随か／ボトルネックの優先度（アプリ/DB/ネット）／リザーブド・スポット・オンデマンド配分をどうするか |
| サービス管理プラクティクス | サービス継続管理（Service continuity management） | CMDBuild Ready2Use | サービスごとのRTO/RPO・BCP・復旧手順を構成情報に紐付けて管理 | サービスCI属性（RTO/RPO）、BCP文書添付、代替サイト等の関係 | - |
| サービス管理プラクティクス | サービス継続管理 | Zulip | BCP訓練時の連絡・状況共有チャネル | ストリーム/トピック、メンション、ファイル共有 | - |
| サービス管理プラクティクス | 監視およびイベント管理（Monitoring and event management） | n8n | 監視イベントを受信し、重要度に応じてインシデント化・通知・自動復旧フロー起動 | Webhook、条件分岐、リトライ、外部API | シグナルを情報/警告/例外でどこまで分けるか／相関・抑制・デダプをどこまで自動化するか／閾値超過時に自動チケット化するか |
| サービス管理プラクティクス | 監視およびイベント管理 | Zulip | 重大イベントのアラート通知チャネル | チャットメッセージ、メンション、ピン留め | - |
| サービス管理プラクティクス | サービスデスク（Service desk） | Zulip | 利用者からの問い合わせ・依頼を受け付ける一次窓口チャネル | ストリーム/トピック、フォーム連携（ボット経由）、検索 | - |
| サービス管理プラクティクス | サービスデスク | n8n | Zulip専用トピックやフォーム入力を検知し、CMDBuildのチケットへ自動登録 | Zulip連携、HTTPノード、条件分岐 | 受付チャネルの優先（電話/チャット/ポータル）／初回解決率を狙うか専門チームへ振るか／影響×緊急度でどのキューに送るか |
| サービス管理プラクティクス | サービスデスク | CMDBuild Ready2Use | インシデント・サービス要求等のチケット記録と状態/SLA管理 | チケットクラス定義、ワークフロー、レポート、SLA属性 | - |
| サービス管理プラクティクス | インシデント管理（Incident management） | CMDBuild Ready2Use | インシデント記録、影響サービス/CIの紐付け、SLA計測 | インシデントクラス、関係（影響サービス/CI）、ワークフロー | - |
| サービス管理プラクティクス | インシデント管理 | Zulip | インシデント対応用専用ストリーム/トピックで対応状況をリアルタイム共有 | トピックスレッド、メンション、ファイル共有 | - |
| サービス管理プラクティクス | インシデント管理 | n8n | 監視イベントから自動インシデント起票、エスカレーション、クローズ処理の自動化 | ワークフロー、タイマ、条件分岐、REST API連携 | 重大度判定（即時エスカレか標準対応か）／影響範囲（単一/全体/外部顧客）／ワークアラウンド優先か恒久対応待ちか／SLA通知やステークホルダー告知の要否 |
| サービス管理プラクティクス | サービス要求管理（Service request management） | CMDBuild Ready2Use | 標準サービス要求（アカウント発行等）のカタログとワークフロー管理 | サービス要求クラス、テンプレート、ワークフロー | - |
| サービス管理プラクティクス | サービス要求管理 | n8n | 定型要求の自動処理（例：権限追加要求からKeycloak/クラウドAPIを呼び出す） | トリガ、外部API連携、条件分岐 | カタログ項目か新規フローか／自動化レベル（自動/セルフ/手動）／承認省略の可否（権限・コスト・リスク）／依頼者区分や業務優先度で順序を変えるか |
| サービス管理プラクティクス | サービス要求管理 | Zulip | 利用者からの要求受付・ステータス連絡 | ストリーム/トピック、ボット連携 | - |
| サービス管理プラクティクス | 問題管理（Problem management） | CMDBuild Ready2Use | 問題記録・原因調査・既知エラーDB管理 | 問題クラス、既知エラークラス、インシデントリンク、ワークフロー | - |
| サービス管理プラクティクス | 問題管理 | Zulip | 問題レビュー会議・恒久対策の議論 | トピック、メンション、ファイル共有 | 調査着手のトリガ（繰り返し/重大/規制要件）／既知エラーDB登録で済むか詳細RCAか／恒久対策の価値（リスク・コスト・再発確率）／再発観察期間を設けるか即クローズか |
| サービス管理プラクティクス | リリース管理（Release management） | CMDBuild Ready2Use | 本番リリースカレンダ、内容、影響範囲、承認状況を管理 | リリースクラス、カレンダビュー、承認ワークフロー | - |
| サービス管理プラクティクス | リリース管理 | n8n | リリースレコード状態に応じてGitLab/Exastro ITA APIを呼び出しデプロイ連携 | CMDBuild API、GitLab/Exastro API連携、条件分岐 | デプロイ方式（段階/ブルーグリーン/カナリア/ビッグバン）／依存サービス・データ移行を分けるか同時か／本番前の検証範囲／ロールバック判定の閾値とタイミング |
| サービス管理プラクティクス | 変更実現（Change enablement） | CMDBuild Ready2Use | 変更要求（RFC）の登録・評価・CAB承認・実施・レビュー管理 | RFCクラス、承認ステップ、関係（影響サービス/CI）、レポート | - |
| サービス管理プラクティクス | 変更実現 | Zulip | CAB議論・緊急変更時の合意形成 | トピック、メンション、ファイル共有 | 変更タイプ（標準/通常/緊急）／リスク評価で承認経路を簡略化できるか／CAB/ECAB要否／実行ウィンドウはフリーズ期間外か／バックアウト手順がリハーサル済みか |
| サービス管理プラクティクス | 変更実現 | n8n | 承認済み変更のみExastro ITAやGitLabに渡すゲートを実装 | 条件分岐、API連携、ロールバックフロー | - |
| サービス管理プラクティクス | サービス妥当性確認およびテスト（Service validation and testing） | n8n | 各プロジェクトのテスト結果を集約し、CMDBuildのリリース/変更レコードへ自動登録 | Webhook受信（外部CI: GitLab等）、API連携、条件分岐 | - |
| サービス管理プラクティクス | サービス構成管理（Service configuration management） | CMDBuild Ready2Use | suluのCI（サーバ、DB、アプリ、ネットワーク等）と関係性をCMDBとして一元管理 | CMDBクラス定義、リレーション、バージョン管理、レポート | CI粒度をどの単位にするか／自動収集か手動登録か／変更完了時にCI更新を強制するか |
| サービス管理プラクティクス | サービス構成管理 | n8n | GitLab/Exastro ITA/クラウドAPIから構成情報を取得しCMDBuildへ同期 | API連携、スケジュール、差分検出（ワークフロー実装） | - |
| サービス管理プラクティクス | IT資産管理（IT asset management） | CMDBuild Ready2Use | ハードウェア/ソフトウェア/ライセンス/クラウドリソースの資産台帳管理 | 資産クラス、ライフサイクル属性、レポート、契約情報 | 資産をCIとしてCMDB管理するか台帳のみか／調達・配布・廃棄の承認やワイプを必須にするか／ライセンス違反を即是正するか |
| サービス管理プラクティクス | IT資産管理 | n8n | クラウドAPIやスプレッドシートから資産情報を取り込み、CMDBuildに登録/更新 | 外部データソース連携、データ変換、条件分岐 | - |

---

## 技術管理プラクティクス（Deployment〜Software development）

### 使用ツール：GitLab / Exastro ITA Web / Exastro ITA API / Keycloak / pgAdmin / phpMyAdmin

| ITIL4プラクティスカテゴリ | ITIL4プラクティクス | ツール名 | プラクティスのなかでのツールのユースケース | ツールの保持する機能の中で利用する機能 | 重要な判断分岐 |
| --- | --- | --- | --- | --- | --- |
| 技術管理プラクティクス | デプロイメント管理（Deployment management） | GitLab | suluのアプリをステージング〜本番へデプロイするCI/CD基盤 | リポジトリ管理、CI/CDパイプライン、環境/ブランチ戦略、アーティファクト管理 | - |
| 技術管理プラクティクス | デプロイメント管理 | Exastro ITA Web | サーバ設定・ミドルウェア構成・ジョブをGUIで定義し、GitLabパイプラインから呼び出す実行基盤 | 作業パターンテンプレート、パラメータシート、ジョブ実行/履歴管理 | 配布順序（DEV→STG→PRDかロールアウト波か）／パイプライン化し手動ゲートを残すか／部分ロールアウトで健康チェックを挟むか |
| 技術管理プラクティクス | デプロイメント管理 | Exastro ITA API | GitLabやn8nから自動デプロイ/ロールバック要求を受けるAPIエンドポイント | REST API、ジョブトリガ、実行ステータス取得 | - |
| 技術管理プラクティクス | インフラストラクチャおよびプラットフォーム管理（Infrastructure and platform management） | Exastro ITA Web | サーバ/ミドルウェア/ネットワーク設定の標準化とプロビジョニング自動化 | 構成テンプレート、パラメータ管理、ジョブスケジューラ | - |
| 技術管理プラクティクス | インフラストラクチャおよびプラットフォーム管理 | Exastro ITA API | IaCツールやn8nからの自動プロビジョニング要求のAPI窓口 | APIトリガ、認証、結果取得 | - |
| 技術管理プラクティクス | インフラストラクチャおよびプラットフォーム管理 | Keycloak | suluや管理ツール（pgAdmin等）のSSO・認可基盤 | ユーザ/グループ管理、RBAC、OIDC/SAML、外部ディレクトリ連携 | - |
| 技術管理プラクティクス | インフラストラクチャおよびプラットフォーム管理 | pgAdmin | suluのPostgreSQL系DB管理（スキーマ変更、バックアップ、性能調査） | DB接続管理、クエリエディタ、バックアップ/リストア、ユーザ/権限管理 | - |
| 技術管理プラクティクス | インフラストラクチャおよびプラットフォーム管理 | phpMyAdmin | suluで利用するMySQL/MariaDBの管理 | DB/テーブル/インデックス管理、SQL実行、ユーザ/権限管理 | - |
| 技術管理プラクティクス | ソフトウェア開発および管理（Software development and management） | GitLab | suluのソースコード管理、レビュー、CI/CD、バージョン管理の中心 | Gitリポジトリ、マージリクエスト、コードレビュー、CI/CD、パッケージレジストリ | - |
| 技術管理プラクティクス | ソフトウェア開発および管理 | pgAdmin | 開発/検証環境のPostgreSQLに対するスキーマ調整・チューニング | クエリ実行、Explain分析、インデックス調査 | - |
| 技術管理プラクティクス | ソフトウェア開発および管理 | phpMyAdmin | 開発/検証用MySQL/MariaDBのスキーマ変更・データ調整 | テーブル設計、データ編集、インポート/エクスポート | - |

---

## ツールの役割と「似た機能の使い分け」の要約（根拠）

似た機能を持つツールの採用方針と非採用理由の整理。

- **Odoo vs CMDBuild（資産・サービス情報）**  
  - Odoo：ERPとして、財務・購買・サプライヤ・プロジェクト等のビジネス寄り情報を統合管理  
  - CMDBuild：IT資産・構成管理（CMDB）専用。ハード/ソフト/サービス/CIの関係とワークフローに特化  
  - 方針：財務・契約はOdoo、技術構成・資産はCMDBuildに分離し、二重登録を回避

- **GROWI vs Odoo/CMDBuild/Zulip（ドキュメント/ナレッジ）**  
  - GROWI：社内Wikiとしてマニュアル・議事録・ナレッジ・戦略文書等の「読み物」を一元管理  
  - Odoo/CMDBuild：構造化データ＋ワークフローが強み  
  - Zulip：チャットは短期の会話履歴に適し、長期ナレッジには不向き  
  - 方針：長期参照文書はGROWIに集約し、他ツールはリンクのみ保持

- **OrangeHRM vs Odoo HR（人事）**  
  - OrangeHRM：HR専用OSS。従業員情報・休暇・評価に特化  
  - Odoo：HR機能も持つがERPの一部  
  - 方針：人事データはOrangeHRMに集約し、Odoo HRは利用しない

- **n8n vs Exastro ITA vs GitLab（自動化/オーケストレーション）**  
  - n8n：API連携・業務フロー自動化に強いワークフローオーケストレータ（監視イベント連携、CMDB更新などの橋渡し役）  
  - Exastro ITA：構成作業自動実行に特化したITオートメーション  
  - GitLab：Dev/CI/CDの統合ツール（ビルド/テスト/デプロイ）  
  - 方針：ビルド/テスト/デプロイはGitLab、構成作業はExastro ITA、両者と他システムをつなぐ業務フローはn8nが担当

- **pgAdmin vs phpMyAdmin（DB管理）**  
  - pgAdmin：PostgreSQL管理用  
  - phpMyAdmin：MySQL/MariaDB管理用  
  - 方針：DBエンジンごとにツールを分け、共通管理機能のみ利用。監視目的では使わず、監視基盤に統一

- **Zulip vs 他チャット/チケット機能**  
  - Zulip：トピックベースのスレッドに強いOSSチャット。サービスデスクやインシデント対応のフロント窓口に利用  
  - チケット/状態管理はCMDBuild、作業実行はExastro/GitLabに分担  
  - OdooのDiscussなど他ツールのチャット機能は使わず、会話チャネルはZulipに集約  
  - 方針：チャットは窓口とコミュニケーションに集中させ、状態管理や実行は他ツールに委任

この表は「ツールをカテゴリごとに閉じる」前提での割り当てであり、他カテゴリのツールを併用する方針に変える場合は要件に応じて再設計する。

---

## チケット管理の使い分け

- 推奨の主担当：CMDBuild Ready2Use（cmdbuild-r2u）をチケット台帳の中心にし、インシデント／サービス要求／変更／問題をここで一元管理。SLA・ワークフロー・CI紐付けを活用。
- 開発タスク/不具合：GitLab（gitlab-omnibus）の Issue/Epic/MR を開発側の作業チケットとして使用。プロダクトバックログや開発中の課題はGitLab、運用インシデント/要求はCMDBuildで切り分け。必要に応じて両者をリンク。
- CMDBuild（バニラ）：ワークフローを自作したい場合の拡張用。標準運用は Ready2Use を使い、バニラは特殊要件のプロトタイプ/検証に限定。
- Odoo Helpdesk：本方針では使わず、顧客対応や社内問い合わせチケットも CMDBuild Ready2Use に寄せる。
- チャネル分担：チケットのステータス管理は上記ツールに任せ、コミュニケーションは Zulip（チャット）、長文ナレッジは GROWI に集約。

## 顧客向けポータルからの問い合わせフロー

- 顧客向けポータル：公開サイト（sulu/CloudFront）にサービスカタログ・問い合わせ/依頼フォームを置く。
- 受付：フォーム投稿を n8n の Webhook で受信し、入力チェックとカテゴリ判定を実施。
- 起票：n8n から CMDBuild Ready2Use にチケット（サービス要求/インシデント等）を自動登録し、受付番号を発行。
- 通知：n8n が受付完了メールを顧客へ送信。社内は Zulip の専用トピックへ通知。
- 対応：担当者は CMDBuild のチケットで進捗/ステータスを管理し、必要なやり取りは Zulip で行う（Odoo/Discussは使わない）。
- 追跡：ステータス更新時にメールで顧客へ連絡。必要ならポータル側で簡易ステータス表示を CMDBuild API連携で出す。

---

## レポート/分析機能の位置づけ

- Odoo：BIダッシュボードや標準レポート（会計/購買/プロジェクト等）を活用。
- CMDBuild Ready2Use / CMDBuild：チケットやCI情報をレポート・ビューで参照。
- GitLab Omnibus：Issue/Epic/パイプラインのメトリクス・インサイト。
- OrangeHRM：勤怠/休暇/人事データのレポート。

---

## サービス運用統合レポート（SLA含む）の流し込み

- ソース定義：CMDBuild Ready2Use のサービス/CIに SLA/OLA 項目（応答/解決目標、稼働率）を持たせ、チケット側で実績（開始/応答/解決/保留時間）を記録。
- 計測・集計：監視指標（稼働率/アラート）を n8n で集計し、チケット実績（MTTA/MTTR、SLA達成/逸脱件数）を CMDBuild から取得して突合。
- Odoo への反映：n8n で期間別（週次/月次）に集計したサービス別 SLA 実績を Odoo のレポート用テーブルに書き込み、BIダッシュボードで統合表示。
- レポート内容：サービス単位の稼働率、応答/解決時間の目標と実績、SLA逸脱件数と要因、主要インシデントのリンク（CMDBuildチケットへの参照）、改善アクションの進捗（GitLab課題へのリンク）。

---

## ツール別「利用しない機能」と根拠

| ツール | ツールの保持する機能の中で利用しない機能 | ツールの保持する機能の中で利用しない根拠 |
| --- | --- | --- |
| Odoo | CRM、在庫、eコマース、ヘルプデスク、HR、業務オペレーション系モジュール、Discuss（チャット） | ERPの業務領域とITIL運用を分離し、財務/購買/ポートフォリオ等のビジネス情報に集中させるため。チャットはZulipに集約するため |
| GROWI | タスク/ガント系拡張、進捗・状態管理、数値集計・BI | タスクや数値はOdoo/CMDBuildで構造化管理し、GROWIは長期文書・ナレッジに特化させるため |
| OrangeHRM | Odoo HR相当機能 | HR情報は専用ツールに集約し、ERP側と二重管理しないため |
| n8n | 監視そのもの（メトリクス収集/可視化）、インシデント詳細分析、非定型要求の調整 | 監視はクラウドネイティブ基盤に統一し、n8nはイベント処理や自動連携に限定。分析・判断は人や他システムで行うため |
| Zulip | 正式な仕様・設計・BCP保管、チケット状態管理、既知エラーDB | 長期ナレッジや台帳はGROWI/CMDBuildに集約し、Zulipは窓口とリアルタイムコミュニケーションに専念するため |
| CMDBuild Ready2Use | 財務計算/請求、チャットUI、詳細文書・議事録の長期保管 | 財務はOdoo、チャットはZulip、長文ナレッジはGROWIに分担し、CMDBは構成/チケット台帳に特化するため |
| GitLab | プロジェクト/要求/インシデント管理を完結させる用途 | チケットや要求はOdoo/CMDBuildで一元管理し、GitLabはリポジトリとCI/CDに集中させるため |
| Exastro ITA Web | プロジェクト管理・要件管理用途、CMDB台帳用途 | 要件/承認は他プラクティクスで扱い、Exastroは構成作業自動実行に専念するため |
| Exastro ITA API | Web UI操作の代替としての常用 | 手動はWeb、自動はAPIに経路を分離し権限制御を簡素化するため |
| Keycloak | アプリ固有の細粒度権限モデル | 細粒度権限は各アプリ側に任せ、Keycloakは統合認証と粗いロールに限定する方針のため |
| pgAdmin | 監視・可視化用途、本番環境での恒常的GUI操作 | 監視は専用基盤へ集約し、本番DBは自動化/最小権限運用を徹底するため |
| phpMyAdmin | 監視・アラート用途、本番での日常GUI運用 | 監視は専用基盤へ集約し、本番DBは自動化/スクリプト運用を原則とするため |
